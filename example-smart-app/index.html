<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv='X-UA-Compatible' content='IE=edge' />
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
    <title> bpadmani21 Example-SMART-App</title>
    <link rel='stylesheet' type='text/css' href='./src/css/example-smart-app.css'>
  </head>
  <body>
    <div id='errors'>
    </div>

    <div>
      <h2>Example-SMART-App</h2>
      <table>
        <tr>
          <th>Practitioner:</th>
          <td id='proactitioner'></td>
        </tr>
        <tr>
          <th>Patient:</th>
          <td id='patient'></td>
        </tr>
        <tr>
          <th>Medications:</th>
          <td id='medicationOrder'></td>
        </tr>
        <tr>
          <th>DiagnosticReport:</th>
          <td id='diagnosticReport'></td>
        </tr>
        <tr>
          <th>encounter:</th>
          <td id='encounter'></td>
        </tr>
      </table>

      <h2>Detailed Records</h2>
      <div>
        <strong>Practitioner Record</strong>
        <textarea id='practitionRec' style="width:100%"></textarea>
      </div>
      <div>
        <strong>Patient Record</strong>
        <textarea id='patientRec' style="width:100%"></textarea>
      </div>
      <div>
        <strong>Medications</strong>
        <textarea id='medicationOrderRec' style="width:100%"></textarea>
      </div>
      <div>
        <strong>Diagnostics</strong>
        <textarea id='diagnosticReportRec' style="width:100%"></textarea>
      </div>
      <div>
        <strong>Encounters</strong>
        <textarea id='encounterRec' style="width:100%"></textarea>
      </div>
    </div>


      


    <!-- Application-level javascript-->
    <script src='./src/js/example-smart-app.js'></script>

    <!-- FHIR Client JS Library -->
    <!--<script src='./lib/js/fhir-client-v0.1.12.js'></script>-->
    <script src='./lib/js/fhir-client-v2.4.0.js'></script>

    <!-- Prevent session bleed caused by single threaded embedded browser and sessionStorage API -->
    <!-- https://github.com/cerner/fhir-client-cerner-additions -->
    <script src='./lib/js/fhir-client-cerner-additions-1.0.0.js'></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>
      function auto_grow(element) {
          element.style.height = "5px";
          element.style.height = (element.scrollHeight)+"px";
      }

      extractData().then(
        //Display Patient Demographics and Observations if extractData was success
        function(res) {
          drawVisualization(res);
        }
        // ,

        // //Display 'Failed to call FHIR Service' if extractData failed
        // function() {
        //   $('#loading').hide();
        //   $('#errors').html('<p> Failed to call FHIR Service </p>');
        // }
      );
    </script>
  </body>
</html>
